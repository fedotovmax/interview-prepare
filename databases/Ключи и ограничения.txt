1.
Первичный ключ (Primary Key, PK) – это столбец или набор столбцов, который однозначно идентифицирует каждую запись в таблице,
обеспечивая целостность сущности.
Внешний ключ (Foreign Key, FK) – это столбец или набор столбцов в одной таблице,
который ссылается на первичный ключ в другой таблице, устанавливая ссылочную целостность и связывая данные между ними.

Назначение первичного ключа - обеспечивает уникальность каждой строки в таблице,
так как каждая запись должна иметь свой уникальный идентификатор. 

Характеристики первичного ключа:
  - Может быть только один первичный ключ на таблицу. 
  - Не может содержать NULL-значения (пустые значения). 
  - По умолчанию автоматически индексируется в большинстве систем управления базами данных (СУБД) для повышения производительности. 

Назначение внешнего ключа - связывает две таблицы, указывая на первичный ключ в родительской таблице.
Это позволяет поддерживать целостность данных, гарантируя, что связанная запись существует в родительской таблице.

Характеристики внешнего ключа:
  - Может существовать несколько внешних ключей в одной таблице, в зависимости от числа связей. 
  - Значение внешнего ключа должно соответствовать существующему значению первичного ключа, на который он ссылается. 
  - Не создает уникальных записей сам по себе, а обеспечивает связь между записями в разных таблицах.

CREATE TABLE IF NOT EXISTS product (
  product_id SERIAL PRIMARY KEY, // Первичный ключ
  title VARCHAR(200) NOT NULL,
  description TEXT,
  category_id INT REFERENCES public.category (category_id) ON DELETE CASCADE NOT NULL // Внешний ключ
);

CREATE TABLE IF NOT EXISTS category (
  category_id SERIAL PRIMARY KEY, // Первичный ключ
  title VARCHAR(100) NOT NULL UNIQUE
);

2.

Первичные и внешние ключи имеют внутри себя ограничения. Если мы попробуем удалить категорию без указания ограничения,
при создании внешнего ключа, то операция не выполнится, т.к. есть записи в таблице products, которые
ссылаются на category.
Для этого существует каскадное удаление: ON DELETE CASCADE NOT NULL, при удалении категории, все товары, у которых есть 
внешняя связь с ней тоже будут удалены, (ON DElETE CASCADE SET NULL затрет ключ, если нет ограничения на NOT NULL и т.д.)

По умолчанию вместо CASCADE стоит RESTRICT

Ограничение NOT NULL - поле не может быть NULL

UNIQUE - уникальная запись в рамках таблицы. Можно сделать составной UNIQUE(user_id, comment_id)
или field CONSTRAINT

Проверки CHECK - при записи или обновлении проверяем в функции значение по условию: price INT CHECK (price > 0)
или price INT CONSTRAINT positive_price CHECK (price > 0)

CREATE TABLE posts (
    id SERIAL PRIMARY KEY,
    user_id BIGINT NOT NULL,
    comment_id BIGINT NOT NULL,
    content TEXT,
    created_at TIMESTAMP DEFAULT now(),

    CONSTRAINT uq_posts_user_comment UNIQUE (user_id, comment_id)
);
